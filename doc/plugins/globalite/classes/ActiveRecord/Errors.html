<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Class: ActiveRecord::Errors</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Class</strong></td>
          <td class="class-name-in-header">ActiveRecord::Errors</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>
                <a href="../../files/vendor/plugins/globalite/lib/rails/localized_active_record_rb.html">
                vendor/plugins/globalite/lib/rails/localized_active_record.rb
                </a>
        <br />
            </td>
        </tr>

        <tr class="top-aligned-row">
            <td><strong>Parent:</strong></td>
            <td>
                Object
            </td>
        </tr>
        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">



   </div>

    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">
      <a href="#M000054">full_messages</a>&nbsp;&nbsp;
      <a href="#M000053">relocalize</a>&nbsp;&nbsp;
      </div>
    </div>

  </div>


    <!-- if includes -->

    <div id="section">





      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Class methods</h3>

      <div id="method-M000053" class="method-detail">
        <a name="M000053"></a>

        <div class="method-heading">
          <a href="#M000053" class="method-signature">
          <span class="method-name">relocalize</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Reloads the localization
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000053-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000053-source">
<pre>
    <span class="ruby-comment cmt"># File vendor/plugins/globalite/lib/rails/localized_active_record.rb, line 21</span>
21:     <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">relocalize</span>
22:       <span class="ruby-ivar">@@default_error_messages</span>.<span class="ruby-identifier">update</span>({
23:                 <span class="ruby-identifier">:inclusion</span>           =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:error_message_inclusion</span>.<span class="ruby-identifier">l</span>,
24:                 <span class="ruby-identifier">:exclusion</span>           =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:error_message_exclusion</span>.<span class="ruby-identifier">l</span>,
25:                 <span class="ruby-identifier">:invalid</span>             =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:error_message_invalid</span>.<span class="ruby-identifier">l</span>,
26:                 <span class="ruby-identifier">:confirmation</span>        =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:error_message_confirmation</span>.<span class="ruby-identifier">l</span>,
27:                 <span class="ruby-identifier">:accepted</span>            =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:error_message_accepted</span>.<span class="ruby-identifier">l</span>,
28:                 <span class="ruby-identifier">:empty</span>               =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:error_message_empty</span>.<span class="ruby-identifier">l</span>,
29:                 <span class="ruby-identifier">:blank</span>               =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:error_message_blank</span>.<span class="ruby-identifier">l</span>,
30:                 <span class="ruby-identifier">:too_long</span>            =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:error_message_too_long</span>.<span class="ruby-identifier">l</span>,
31:                 <span class="ruby-identifier">:too_short</span>           =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:error_message_too_short</span>.<span class="ruby-identifier">l</span>,
32:                 <span class="ruby-identifier">:wrong_length</span>        =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:error_message_wrong_length</span>.<span class="ruby-identifier">l</span>,
33:                 <span class="ruby-identifier">:taken</span>               =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:error_message_taken</span>.<span class="ruby-identifier">l</span>,
34:                 <span class="ruby-identifier">:not_a_number</span>        =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:error_message_not_a_number</span>.<span class="ruby-identifier">l</span>,
35:               })
36:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <h3 class="section-bar">Public Instance methods</h3>

      <div id="method-M000054" class="method-detail">
        <a name="M000054"></a>

        <div class="method-heading">
          <a href="#M000054" class="method-signature">
          <span class="method-name">full_messages</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Redefine the ActiveRecord::Errors::full_messages method:
</p>
<pre>
 Returns all the full error messages in an array. 'Base' messages are handled as usual.
 Non-base messages are prefixed with the attribute name as usual UNLESS they begin with '^'
 in which case the attribute name is omitted.
 E.g. validates_acceptance_of :accepted_terms, :message =&gt; '^Please accept the terms of service'

 If field name has the same key like in language yaml file, its replaced by its corresponding language file value.
 This fixes the problem of translating validation messages but not field names. Now you can fully localize them.
 E.g. validates_presence_of :name
 produces (in en-UK and pl-PL:
 Name can't be empty
 Nazwa jest wymagana
 By convetion yaml language key falue for field is the same as ActiveRecords model field name
 If plugin can't find such key, it behaves just like without plugin.
</pre>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000054-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000054-source">
<pre>
    <span class="ruby-comment cmt"># File vendor/plugins/globalite/lib/rails/localized_active_record.rb, line 53</span>
53:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">full_messages</span>
54:       <span class="ruby-identifier">full_messages</span> = []
55: 
56:       <span class="ruby-ivar">@errors</span>.<span class="ruby-identifier">each_key</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">attr</span><span class="ruby-operator">|</span>
57:         <span class="ruby-ivar">@errors</span>[<span class="ruby-identifier">attr</span>].<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">msg</span><span class="ruby-operator">|</span>
58:           <span class="ruby-keyword kw">next</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">msg</span>.<span class="ruby-identifier">nil?</span>
59: 
60:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">attr</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;base&quot;</span>
61:             <span class="ruby-identifier">full_messages</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">msg</span>
62:           <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">msg</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/^\^/</span>
63:             <span class="ruby-identifier">full_messages</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">msg</span>[<span class="ruby-value">1</span><span class="ruby-operator">..</span><span class="ruby-value">-1</span>]
64:           <span class="ruby-keyword kw">else</span>
65:             <span class="ruby-identifier">full_messages</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">attr</span>.<span class="ruby-identifier">intern</span>.<span class="ruby-identifier">l</span>(<span class="ruby-identifier">attr</span>).<span class="ruby-identifier">humanize</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot; &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">msg</span>
66:           <span class="ruby-keyword kw">end</span>
67:         <span class="ruby-keyword kw">end</span>
68:       <span class="ruby-keyword kw">end</span>
69: 
70:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">full_messages</span>
71:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>


    </div>


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>